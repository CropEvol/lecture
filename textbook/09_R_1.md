# R入門
編集中
## R言語について
　Rは、統計解析でよく利用されるプログラミングないし解析環境です。各種統計検定法や解析法が使えるだけでなく、<br>
発表されて間もないような新しい手法もR用にリリースされているものが多いところが特徴です。<br>
　バイオインフォマティクス、生物統計学に特化した便利なライブラリなども存在しています。

## PythonとRの違い
　統計解析やデータ処理、グラフ描写など、R / Pythonどちらもある程度の科学計算や処理をするには十分な機能を備えていますが、以下それぞれの特徴を簡単に説明します。
### Python
 　バイオインフォマティクスの分野では良くPythonが利用されています。そのため、遺伝子配列やアミノ酸配列、タンパク質の立体構造などを扱う場合に、Pythonで書かれた便利なプログラムが数多く存在しています。<br>
 　プログラミング言語としては、簡単に入門することが可能で、コンピューターサイエンス以外の分野の人でも手軽に扱うことができます。また、機械学習や深層学習などの分野でもPythonはよく利用されており、特に遺伝子配列の解析は文字列処理として扱えるので、自然言語処理などで用いられている技術の恩恵を受けやすいものになっています。

### R
　Rは統計解析とグラフの描写を得意としています。特にグラフの描写機能は充実しており、基本的な統計グラフに加え、系統樹や遺伝子ネットワークなどの描写に役立ちます。<br>
　また、統計解析パッケージが非常に豊富であり、Pythonでは実装されていない発展的な手法であったり、新しい解析手法などもRで探せば大抵見つかり、利用することが出来ます。<br>
　そのため、ゲノム解析等でバイオインフォマティクスを利用する研究室でなくとも、実験結果の統計解析であったり、結果のグラフ化など、Rを使う必要がある研究室は多いです。
<br><img src="../images/09/python_r.png" height="200px" alt="unix directory"></div>

"解析ソフトウェアでの結果をRで可視化する"、"Pythonでデータ処理を行いRで統計解析"...etc<br>
といったように柔軟に使えると今後役に立つと思います。

## 実習の前に
### いかにコードを書かないか
　Rに関しては、基本的なプログラムが組めることも大事ですが、便利な関数やパッケージを利用することが前提となってきます。パッケージというのは、世界中のRユーザーが開発したプログラムを誰もが利用できる形にしたものです。<br>
　また、有名な統計解析パッケージや関数は高速に作られています。詳しく説明するとややこしくなるので簡単にしておきますが、PythonやRでプログラムを書くよりも、C言語やFortran、Javaと言ったプログラミング言語で同じ計算をさせた方が、数十倍・数百倍速いことがあります。(その分複雑なプログラムを組むためには、必要な知識が多いなどの欠点はありますが。)<br>
　しかし、多くのRの関数やパッケージは内部がC言語などで実装されているので、速いものが多いです。そのため、for文やif文などを使ってプログラムを組むことも可能ですが、関数やパッケージがあるのであれば、そちらを使う様にしましょう。
```
# 参考
# t検定を自分で実装した場合(長いし、遅い)

nx <- length(x)                             # xの標本の大きさ
  mx <- mean(x)                               # xの標本平均
    vx <- var(x)                                # xの分散の推定値(不偏分散)
    if (is.null(y)) {
    }
    else {
        ny <- length(y)                         # yの標本の大きさ
        my <- mean(y)                           # yの標本平均
        vy <- var(y)                            # yの分散の推定値(不偏分散)
        if (var.equal) {
            df <- nx + ny - 2                   # 自由度
            v <- 0 if (nx > 1)
                v <- v + (nx - 1) * vx if (ny > 1)
                v <- v + (ny - 1) * vy
            v <- v/df
            stderr <- sqrt(v * (1/nx + 1/ny))   # 検定統計量の右辺の分母
        }
        tstat <- (mx - my - mu)/stderr          # 検定統計量
    }

# 用意されているt検定の関数で行う場合(１行で済む、かつ速い)

t.test(x, y, var.equal=T)
```
　小さなプログラムであれば気にならないですが、ある程度の規模の計算になると、数ヶ月単位で時間が変わってきます。<br>
　関数やパッケージを利用出来る形にデータを処理する所はプログラムを作る必要がありますが、パッケージなどに任せられる所は任せた方が基本的には良いです。<br>
　自分でアルゴリズムを考えたり、解析手法を開発する様な研究をする場合には、自分でプログラムを組む必要があります。

#### 実習内容について
　上述した通り、Rに関してはプログラムを組むことよりも自分に必要なパッケージを探して利用する場合が多く、今後皆さんがどの様にRを利用し、どのようなパッケージを利用していくかは人それぞれだと思います。<br>
　そこで本実習では、Rの利用方法や、pythonで学んだfor文やif文などをRで利用する際の書き方の違いなど、基本的な使い方を学んだ後、出来るだけ汎用性が高いものであったり、知識として持っておくと良いと思われる統計解析・グラフ描写・機械学習などに関するパッケージを実際にいくつか利用してみる。と言った形で進めていきます。
***
## 実習

#### Rの起動
#### 変数・基本演算子
#### 数学基本関数
Rでは三角関数や統計量を算出する関数が標準実装されており、そのまま呼び出すことで実行される。
#### forやif
#### ベクトルと行列 apply
#### データフレーム
#### 関数の作り方
#### 作業ディレクトリ・ファイル操作など
